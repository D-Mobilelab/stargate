<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/modules/Logger.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/D-Mobilelab/stargate.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  </ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/modules/Logger.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * @class
 * @alias module:src/modules/Utils.Logger
 * @param {String} label - OFF|DEBUG|INFO|WARN|ERROR|ALL
 * @param {String} tag - a tag to identify a log group. it will be prepended to any log function
 * @param {Object} [styles={background:&quot;white&quot;,color:&quot;black&quot;}] -
 * @param {String} styles.background - background color CSS compatibile
 * @param {String} styles.color - color text CSS compatible
 * @example
 * var myLogger = new Logger(&quot;ALL&quot;, &quot;TAG&quot;,{background:&quot;black&quot;,color:&quot;blue&quot;});
 * myLogger.i(&quot;Somenthing&quot;, 1); // output will be &gt; [&quot;TAG&quot;], &quot;Somenthing&quot;, 1
 * myLogger.setLevel(&quot;off&quot;) // other values OFF|DEBUG|INFO|WARN|ERROR|ALL
 * */
function Logger(label, tag, styles){
    Object.defineProperty(this, &quot;levels&quot;, {
        value:{
            ALL:5,
            ERROR:1,
            WARN:2,
            INFO:3,
            DEBUG:4,
            OFF:0
        },
        writable:false,
        enumerable:true,
        configurable:true
    });

    this.level = this.levels[label.toUpperCase()];
    this.styles = styles || {background:&quot;white&quot;,color:&quot;black&quot;}; //default
    this.tag = &quot;%c &quot; + tag + &quot; &quot;;
    this.isstaging = (&quot;IS_STAGING = 1&quot;.slice(-1) === &quot;1&quot;);

    this.styleString = &quot;background:&quot; + this.styles.background + &quot;;&quot; + &quot;color:&quot; + this.styles.color + &quot;;&quot;;

    var argsToString = function() {
        if (arguments.length &lt; 1) {
            return &quot;&quot;;
        }
        var args = Array.prototype.slice.call(arguments[0]);
        var result = &apos;&apos;;
        for (var i=0; i&lt;args.length; i++) {
            if (typeof (args[i]) === &apos;object&apos;) {
                result += &quot; &quot; + JSON.stringify(args[i]);
            }
            else {
                result += &quot; &quot; + args[i];
            }
        }
        return result;
    };

    var consoleLog = window.console.log.bind(window.console, this.tag, this.styleString);
    var consoleInfo = window.console.info.bind(window.console, this.tag, this.styleString);
    var consoleError = window.console.error.bind(window.console, this.tag, this.styleString);
    var consoleWarn = window.console.warn.bind(window.console, this.tag, this.styleString);

    if (!this.isstaging) {
        consoleLog = function(){
            window.console.log(&quot;[D] [Stargate] &quot;+argsToString.apply(null, arguments));
        };
        consoleInfo = function(){
            window.console.log(&quot;[I] [Stargate] &quot;+argsToString.apply(null, arguments));
        };
        consoleError = function(){
            window.console.log(&quot;[E] [Stargate] &quot;+argsToString.apply(null, arguments));
        };
        consoleWarn = function(){
            window.console.log(&quot;[W] [Stargate] &quot;+argsToString.apply(null, arguments));
        };
    }

    //private and immutable
    Object.defineProperties(this, {
        &quot;__d&quot;: {
            value: consoleLog,
            writable: false,
            enumerable:false,
            configurable:false
        },
        &quot;__i&quot;: {
            value: consoleInfo,
            writable: false,
            enumerable:false,
            configurable:false
        },
        &quot;__e&quot;: {
            value: consoleError,
            writable: false,
            enumerable:false,
            configurable:false
        },
        &quot;__w&quot;: {
            value: consoleWarn,
            writable: false,
            enumerable:false,
            configurable:false
        }
    });

}

/**
 * Error Logging
 * @param {*} [arguments]
 * */
Logger.prototype.e = function(){

    if(this.level &gt;= this.levels.ERROR){
        this.__e(arguments);
    }
};

/**
 * Info Logging
 * @param {*} [arguments]
 * */
Logger.prototype.i = function(){

    if(this.level &gt;= this.levels.INFO){
        this.__i(arguments);
    }
};

/**
 * Warn Logging
 * @param {*} [arguments]
 * */
Logger.prototype.w = function(){
    if(this.level &gt;= this.levels.WARN){
        this.__w(arguments);
    }
};

/**
 * Debug Logging
 * @param {*} [arguments]
 * */
Logger.prototype.d = function(){

    if(this.level &gt;= this.levels.DEBUG){
        this.__d(arguments);
    }
};

/**
 * Set the minimum level for the logger
 * @param {String} label - OFF|DEBUG|INFO|WARN|ERROR|ALL
 * */
Logger.prototype.setLevel = function(label){
    this.level = this.levels[label.toUpperCase()];
};

module.exports = Logger;</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.7)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
